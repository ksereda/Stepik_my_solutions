package module_5_2.task_1;

/*
–ù–∞–ø–∏—à–∏—Ç–µ –º–µ—Ç–æ–¥, —á–∏—Ç–∞—é—â–∏–π –≤—Ö–æ–¥–Ω–æ–π –ø–æ—Ç–æ–∫ –∏ –≤—ã—á–∏—Å–ª—è—é—â–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—É—é —Å—É–º–º—É –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ –¥–∞–Ω–Ω—ã—Ö –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ —Å–ª–µ–¥—É—é—â–µ–º—É –∞–ª–≥–æ—Ä–∏—Ç–º—É:

–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —á–∏—Å–ª–æ —Ç–∏–ø–∞ int. –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ –ø—É—Å—Ç–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–≤–Ω–∞ –Ω—É–ª—é.
–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ –Ω–µ–ø—É—Å—Ç–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ–π —Ñ–æ—Ä–º—É–ª–µ: ùê∂ùëõ+1=rotateLeft(ùê∂ùëõ) xor ùëèùëõ+1 , –≥–¥–µ ùê∂ùëõ ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è —Å—É–º–º–∞ –ø–µ—Ä–≤—ã—Ö n –±–∞–π—Ç –¥–∞–Ω–Ω—ã—Ö, rotateLeft ‚Äî —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–π —Å–¥–≤–∏–≥ –±–∏—Ç —á–∏—Å–ª–∞ –Ω–∞ –æ–¥–∏–Ω –±–∏—Ç –≤–ª–µ–≤–æ (—á—Ç–æ–±—ã –Ω–µ –∏–∑–æ–±—Ä–µ—Ç–∞—Ç—å –≤–µ–ª–æ—Å–∏–ø–µ–¥, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Integer.rotateLeft), ùëèùëõ ‚Äî n-–Ω—ã–π –±–∞–π—Ç –¥–∞–Ω–Ω—ã—Ö.
–ü–æ—Å–∫–æ–ª—å–∫—É –º–µ—Ç–æ–¥ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–ª –¥–∞–Ω–Ω—ã–π InputStream, —Ç–æ –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –µ–≥–æ –æ–Ω –Ω–µ –¥–æ–ª–∂–µ–Ω. –í—ã–±—Ä–æ—à–µ–Ω–Ω–æ–µ –∏–∑ –º–µ—Ç–æ–¥–æ–≤ InputStream –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å—Å—è –∏–∑ –º–µ—Ç–æ–¥–∞.

–ü—Ä–∏–º–µ—Ä
–ù–∞ –≤—Ö–æ–¥ –ø–æ–¥–∞–Ω InputStream, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π —Ç—Ä–∏ –±–∞–π—Ç–∞: 0x33 0x45 0x01. –í –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–æ —á–∏—Å–ª–æ 71.
*/

import java.io.IOException;
import java.io.InputStream;

public class Main {

    public static int checkSumOfStream(InputStream inputStream) throws IOException {

        int result = 0;
        int c = inputStream.read();

        while(c != -1) {
            result = Integer.rotateLeft(result, 1) ^ c;
            c = inputStream.read();
        }

        return result;
    }

}
